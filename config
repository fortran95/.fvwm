# Global Environmental Variables
################################

#setenv fvwm_img $[FVWM_USERDIR]/images

# Virtual Desktops
##################
DesktopSize 1x1
DesktopName 0 Main
DesktopName 1 Work
DesktopName 2 Controller
EdgeScroll 100 100
EdgeResistance 150 150
EdgeThickness 1

# Mouse & Focus Behaviour
#########################
ClickTime 300
MoveThreshold 3
Style * SloppyFocus, MouseFocusClickRaises

# Window Operating Function
###########################
DestroyFunc FvwmDeleteOrDestroy
AddToFunc   FvwmDeleteOrDestroy
+ H Nop
+ M Nop
+ C Delete
+ D Destroy

DestroyFunc FvwmIconifyOrShade
AddToFunc   FvwmIconifyOrShade
+ C Iconify
+ D WindowShade

DestroyFunc FvwmMaximize
AddToFunc   FvwmMaximize
+ H Nop
+ M Nop
+ C Maximize $0 $1

DestroyFunc FvwmMoveOrIconify
AddToFunc   FvwmMoveOrIconify
+ M Move
+ D Iconify

DestroyFunc FvwmWindowShade
AddToFunc   FvwmWindowShade
+ D WindowShade $0

# Bind Buttons To Windows
#########################
Mouse 1 2 A FvwmDeleteOrDestroy
Mouse 1 3 A FvwmIconifyOrShade
Mouse 1 1 A FvwmMaximize 100 100

# Decorate Windows
##################
Colorset 3 fg White, bg #000099
Colorset 4 fg Black, bg #ccc
Colorset 5 fg White, bg Black

DestroyDecor GeneralDecoration
AddToDecor   GeneralDecoration
+ TitleStyle LeftJustified Height 24
+ ButtonStyle 2 ActiveUp Vector 4 30x30@3 60x60@3 60x30@4 30x60@3 -- Flat
+ ButtonStyle 2 ActiveDown Vector 4 30x30@3 60x60@3 60x30@4 30x60@3 -- Flat
+ ButtonStyle 2 Inactive Vector 4 30x30@3 60x60@3 60x30@4 30x60@3 -- Flat
+ ButtonStyle 3 ActiveUp Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3 -- Flat
+ ButtonStyle 3 ActiveDown Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3 -- Flat
+ ButtonStyle 3 Inactive Vector 5 30x60@3 60x60@3 60x50@3 30x50@3 30x60@3 -- Flat
+ ButtonStyle 1 ActiveUp Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3 -- Flat
+ ButtonStyle 1 ActiveDown Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3 -- Flat
+ ButtonStyle 1 Inactive Vector 7 30x30@3 30x60@3 60x60@3 60x30@3 30x30@3 30x35@3 60x35@3 -- Flat
+ TitleStyle -- Flat
+ BorderStyle Simple -- NoInset Flat
+ ButtonStyle All -- UseTitleStyle

Style "*" UseDecor GeneralDecoration
Style "*" BorderWidth 1, HandleWidth 1
Style "*" ColorSet 4, HilightColorset 3, BorderColorset 4, HilightBorderColorSet 4

# Global Styles and options
###########################
Style * TileCascadePlacement, GrabFocusOff
Style * NoPPosition, ResizeOpaque
OpaqueMoveSize -1
Emulate MWM
HideGeometryWindow Never
SnapAttraction 5 SameType Screen
SnapGrid 3 3
XorValue 55555
Style * DecorateTransient, DontRaiseTransient
Style * DontLowerTransient, StackTransientParent
Style * GrabFocusTransientOff
Style * WindowShadeSteps 20, WindowShadeScrolls
SetAnimation  10  -.01 0 .01 .03 .08 .18 .3 .45 .6 .75 .85 .90 .94 .97 .99 1.0
Style * MwmDecor, SlipperyIcon
Style * IconBox screen w 15 15 -165 -15, IconGrid 3 3, IconFill right top

# Configure the TaskBar
#######################
Style "FvwmTaskBar" NoTitle, !Handles, !Borders, Sticky, WindowListSkip, \
  CirculateSkip, StaysOn, FixedPosition, FixedSize, !Iconifiable
DestroyModuleConfig FvwmTaskBar: *
*FvwmTaskBar: Geometry +0-0
*FvwmTaskBar: Rows 1
*FvwmTaskBar: Font "xft:Sans:Bold:pixelsize=12:minispace=True:antialias=True"
*FvwmTaskBar: SelFont "xft:Sans:Bold:pixelsize=12:minispace=True:antialias=True"
*FvwmTaskBar: StatusFont "xft:Sans:Bold:pixelsize=12:minispace=True:antialias=True"
*FvwmTaskBar: Colorset 9
*FvwmTaskBar: IconColorset 9
*FvwmTaskBar: FocusColorset 9
*FvwmTaskBar: TipsColorset 9
*FvwmTaskBar: UseSkipList
*FvwmTaskBar: UseIconNames
*FvwmTaskBar: ShowTips
*FvwmTaskBar: StartName NERV
*FvwmTaskBar: StartMenu mnuStartup
#*FvwmTaskBar: Action Click3 Menu FvwmWindowOpsMenu
#*FvwmTaskBar: StartIcon mini/fvwm.png

# Startup Functions
###################
DestroyFunc StartFunction
AddToFunc   StartFunction
+ I Module FvwmTaskBar
#+ I Module FvwmPager 0 2
+ I Module FvwmButtons MyButtons

DestroyFunc InitFunction
AddToFunc   InitFunction
+ I Exec exec xscreensaver
+ I Exec exec fvwm-root -r $[fvwm_wallpapers]/background.png
+ I FvwmXmms
+ I FvwmATerm

DestroyFunc RestartFunction
AddToFunc   RestartFunction
+ I Nop

# Program Launching Functions
#############################
DestoryFunc callTerminal
AddToFunc callTerminal
+ I Exec exec xterm

DestroyFunc callInternetBrowser
AddToFunc callInternetBrowser
+ I Exec exec chromium-browser

# Global Rescue Menu
####################
Key F10 A N Menu GlobalRescueMenu
DestroyMenu GlobalRescueMenu
AddToMenu GlobalRescueMenu "Rescue MENU" Title
+ "&XTerminal" exec xterm
+ "" Nop
+ "&Restart Window Manager" Restart
+ "&Quit Window Manager" Quit

# Menus
#######

#   Desktop Menu
Mouse 1 R A Menu mnuDesktop
DestroyMenu mnuDesktop
AddToMenu mnuDesktop "NERV" Title
+ "&Internet" callInternetBrowser

DestroyMenu mnuStartup
AddToMenu mnuStartup "开始" Title
+ "&Internet" callInternetBrowser
+ "&Terminal" callTerminal
+ "" Nop
+ "&Logout" Quit

# Shortcuts
###########
Key T A C callTerminal
